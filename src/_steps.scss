// Variables.
@use 'variables' as *;

// Functions.
@use 'functions/var/get-var.function' as *;
@use 'functions/var/unit-var.function' as *;

// Mixins.
@use 'mixins/color/background.mixin' as *;
@use 'mixins/border/border.mixin' as *;
@use 'mixins/color/color.mixin' as *;
@use 'mixins/margin.mixins' as *;
@use 'mixins/z-index.mixin' as *;

// Steps
.step,
.#{$var-prefix}-step {
  display: flex;
  flex-wrap: nowrap;
  list-style: none;
  @include margin('unit-1', 'unit-0');
  width: 100%;

  .step-item {
    flex: 1 1 0;
    margin-top: 0;
    min-height: 1rem;
    text-align: center;
    position: relative;

    &:not(:first-child)::before {
      @include background('primary');
      content: '';
      height: 2px;
      left: -50%;
      position: absolute;
      top: 9px;
      width: 100%;
    }

    a {
      @include color('primary');
      display: inline-block;
      padding: 20px 10px 0;
      text-decoration: none;

      &::before {
        border-radius: 50%;
        @include background('primary');
        @include border('lg', solid, 'light', false);

        content: '';
        display: block;
        height: unit-var('3');
        left: 50%;
        position: absolute;
        top: unit-var('1');
        transform: translateX(-50%);
        width: unit-var('3');
        @include z-index('0');
      }
    }

    &.active {
      a {
        &::before {
          @include background('light');
          @include border('lg', solid, 'primary', false);
        }
      }

      & ~ .step-item {
        &::before {
          @include background('border');
        }

        a {
          @include color('gray');

          &::before {
            @include background('border');
          }
        }
      }
    }
  }
}
