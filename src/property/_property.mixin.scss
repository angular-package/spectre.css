// Sass.
@use 'sass:list';
@use 'sass:meta';

// Modules.
@use '../selector';
@use '../string';
@use '../values';

// Functions.
@use '../var/functions/var.get.function' as *;

// Mixins.
@use 'property.set.mixin' as *;

// Status: DONE
// The `property()` mixin.
@mixin property($property, $dictionary: (), $function: meta.get-function("get")) {
  @each $name, $attribute-value in $property {
    @if type-of($attribute-value) == map {
      @each $name in if(list.separator($name) == comma, $name, ($name,)) {
        @each $attribute, $value in $attribute-value {
          @each $attribute in if(list.separator($attribute) == comma, $attribute, ($attribute,)) {
            @if type-of($value) == map {
              @each $-attribute, $value in $value {
                @include set((string.join('-', $name, $attribute, $-attribute): $value), $dictionary, $function);
              }
            } @else {
              @include set((string.join('-', $name, $attribute): $value), $dictionary, $function);
            }
          }
        }
      }
    } @else {
      @include set(($name: $attribute-value), $dictionary, $function);
    }
  }
}

// Examples.
// div {
  // property: value
  // @include property((padding: 1px)); // padding: 1px;
  // @include property((padding-top: 1px)); // padding-top: 1px;

  // properties: value
  // @include property(((padding, margin): 1px));
  // padding: 1px;
  // margin: 1px;

  // property + side + value
  // @include property((padding: (top: 1px))); // padding-top: 1px;

  // properties + side + value
  // @include property(((padding, margin): (top: 1px)));
  // padding-top: 1px;
  // margin-top: 1px;

  // properties + sides + value
  // @include property(((padding, margin): ((top, bottom): 5px)));
  // padding-top: 5px;
  // padding-bottom: 5px;
  // margin-top: 5px;
  // margin-bottom: 5px;

  // @include property((
  //   border: (
  //     (top-left, top-right): (radius: 20px, color: (primary silver) ()),
  //     (top, bottom): (color: (primary dark) ())
  // )));
  // border-top-left-radius: 20px;
  // border-top-left-color: var(--s-primary-silver);
  // border-top-right-radius: 20px;
  // border-top-right-color: var(--s-primary-silver);
  // border-top-color: var(--s-primary-dark);
  // border-bottom-color: var(--s-primary-dark);

  // @include property((padding: (top: 1px 2px, bottom: 3px 4px)));
  // padding-top: 1px 2px;
  // padding-bottom: 3px 4px;

  // @include property((padding: (unit 2) ())); // padding: var(--s-unit-2);
  // @include property((padding: (unit 2) (unit 3))); // padding: var(--s-unit-2) var(--s-unit-3);
  // @include property((padding: 2px (unit 2) 10px (unit 3))); // padding: 2px var(--s-unit-2) 10px var(--s-unit-3);

  // @include property((padding: (top: (unit 2) ()))); // padding-top: var(--s-unit-2);
  // @include property((padding: ((top, bottom): (unit 2) ())));
  // padding-top: var(--s-unit-2);
  // padding-bottom: var(--s-unit-2);

  // @include property((padding: ((top, bottom): (unit 2) ())));
  // padding-top: var(--s-unit-2);
  // padding-bottom: var(--s-unit-2);

  // @include property((padding: ((top, bottom): (unit 2) (unit 2))));
  // padding-top: var(--s-unit-2) var(--s-unit-2);
  // padding-bottom: var(--s-unit-2) var(--s-unit-2);

  // @include property((
  //   (padding, margin): ((top, left): 1px, (bottom, right): 2px),
  //   // (border, outline): 1px (unit 1) 2px (unit 2),
  //   (border, outline): ((top, dotted): 1px solid [border color gray]),
  // ));

  // @include property(((padding, margin): (((unit 1),), (unit 2) (unit 3))));

  // @include property(((padding, margin): (unit 1, )));
  // @include property(((border, margin): (1px, 2px, 4px, (unit 1))));

  // @include property(((margin, padding): 1px 2px 4px unit 1));

  // @include property(((border, margin): (top: 1px 2px 4px unit 1, left: 15px 10px 5px unit 2)));
  // @include property(((border, margin): ((top: 1px 2px 4px unit 1), (left: 15px 10px 5px unit 2))));

  // @include property(((margin, padding): ((top: 1px), 2px, (left: 4px), unit 1)));
  // @include property(((margin, padding): ((top: 1px), 2px, (left: 4px), unit 1)));

  // @include property(((border, margin): ((top, right): (unit 1, unit 2))));
// }
