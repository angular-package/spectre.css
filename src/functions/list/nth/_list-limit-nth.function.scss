// Functions.
@use '../limit.function' as *;
@use 'list-range-nth.function' as *;

// Status: DONE
// The `list-limit-nth()` function.
@function list-limit-nth($list, $limit, $default: null) {
  @return list-range-nth(
    $list,
    pick-limit($limit, 'offset'),
    pick-limit($limit, 'limit'),
    $default
  );
}

// The `pick-limit()` function.
@function pick-limit($limit, $key) {
  $offset: limit($limit, 'offset') or 1;
  $limit: limit($limit, 'limit') + $offset;
  @return if($key == 'offset', $offset, $limit - 1);
}

// Examples.
// Limit.
// @debug list-limit-nth(('27',), 1); // ("a",)
// @debug list-limit-nth(('a', 'b', 'c', 'd', 'e', 'f'), 1); // ("a",)
// @debug list-limit-nth(('a', 'b', 'c', 'd', 'e', 'f'), 2); // "a", "b"
// @debug list-limit-nth(('a', 'b', 'c', 'd', 'e', 'f'), 5); // "a", "b", "c", "d", "e"

// Offset - Limit
// @debug list-limit-nth(('a', 'b', 'c', 'd', 'e', 'f'), (1, 2)); // "a", "b"
// @debug list-limit-nth(('a', 'b', 'c', 'd', 'e', 'f'), (2, 2)); // "b", "c"
// @debug list-limit-nth(('a', 'b', 'c', 'd', 'e', 'f'), (5, 3)); // "e", "f", null
