// Sass.
@use 'sass:list';

// Functions.
@use '../list/index/list-index.function' as *;
@use '../list/is/is-list-length.function' as *;

// Status: DONE
// The `get-class-index()` function.
@function get-class-index($class, $selectors: ('&', '.', '&.')) {
  $index: ();
  @if is-list-length($class, '>', 1) {
    @each $i in list-index($class, any, $selectors...) {
      @if $i {
        $index: list.append($index, $i);
      }
    }
  }
  @return if(is-list-length($index), min($index...), null);
}

// Examples.
// @debug get-class-index(('s', 'p', 'a', 'n', '&[attr="aaa"]', '.', 'border', 'width'));
// @debug get-class-index(('p', 'a', 'n', '222', '333', '&[attr="aaa"]', '&', '.', 'border', 'width'));
// @debug get-class-index(('s', 'a', 'n', '&[attr="aaa"]', '&.', 'border', 'width'));
