// Sass.
@use 'sass:map';
@use 'sass:meta';

// Modules.
@use '../../selector';
@use '../../translator';
@use '../../var';
@use '@angular-package/sass/function';

// Mixins.
@use '../property.class-variant.mixin' as *;

// Set var functions.
function.$functions: map.deep-merge(function.$functions, (var: meta.module-functions(var)));

// Status: REVIEW: parameter order
// Margin utility mixin
@mixin variant(
  $variant: (),
  $combine: false false false false,
  $important: null,
  // class
  $pseudo-class: (),
  $dictionary: null,
  $class-function: meta.get-function(class, false, selector),
  // function to call args
  $prefix: null,
  $separator: null,
  $type-function: (list: --var-get),
  $functions:(var: (get: meta.get-function(get, false, var))),
  $execute: true,
) {
  @include class-variant(
    (margin: $variant),
    $combine,
    $important,
    $pseudo-class,
    if($dictionary, $dictionary, translator.dictionary(var)),
    $prefix: $prefix,
    $separator: $separator,
    $type-function: $type-function,
    // $functions: (var: (get: meta.get-function(get, false, var)))
  );
}

// $variant: (),
// $important: null,
// $pseudo-class: (),
// $dictionary: (),
// $class-function: meta.get-function(class, false, selector),
// $prefix: null,
// $separator: null,
// $type-function: null,
// $functions:null,
// $execute: true


// Examples.
// @include variant((left: (1: (unit 1) ())));
// .margin-left-1 {
//   margin-left: var(--s-unit-1);
// }

// @include variant((top: (1: --var-get (unit 1))));
// .margin-top-1 {
//   margin-top: var(--s-unit-1);
// }

// @include variant((top: (1: (unit 1) (), 3: (unit 3) ())));
// .margin-top-1 {
//   margin-top: var(--s-unit-1);
// }
// .margin-top-3 {
//   margin-top: var(--s-unit-3);
// }

// @include variant(((top, bottom): (1: (unit 1) (), 3: (unit 3) ())));
// .margin-top-1 {
//   margin-top: var(--s-unit-1);
// }
// .margin-top-3 {
//   margin-top: var(--s-unit-3);
// }
// .margin-bottom-1 {
//   margin-bottom: var(--s-unit-1);
// }
// .margin-bottom-3 {
//   margin-bottom: var(--s-unit-3);
// }

// @include variant(((top, right, bottom, left): (1: (unit 1) ())));
// .margin-top-1 {
//   margin-top: var(--s-unit-1);
// }
// .margin-right-1 {
//   margin-right: var(--s-unit-1);
// }
// .margin-bottom-1 {
//   margin-bottom: var(--s-unit-1);
// }
// .margin-left-1 {
//   margin-left: var(--s-unit-1);
// }

// dictionary
// @include variant((1: (unit 1) (), 2: (unit 2) ()), $dictionary: (unit: u));
// .margin-1 {
//   margin: var(--s-u-1);
// }
// .margin-2 {
//   margin: var(--s-u-2);
// }
