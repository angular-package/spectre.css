@use '../../functions/get-var' as *;
@use '../../variables' as *;
@use '../set-var' as *;

// The mixin sets CSS variable color in hsla and rgba forms, by splitting it in four CSS variables for each form.
// Defines a color based on the specified CSS variable by changing its lightness.
@mixin set-derived-color($name, $color, $lightness: 0%, $prefix: $var-prefix) {
  // Hue.
  @include set-var($name, get-var($color, $suffix: $var-hue), $prefix, $var-hue);
  // Saturation.
  @include set-var($name, get-var($color, $suffix: $var-saturation), $prefix, $var-saturation);
  // Lightness based on $color + $lightness and customizable
  @include set-var($name, calc(get-var($color, $suffix: $var-lightness) + $lightness + get-var($name, $suffix:  '#{$var-lightness}-l')), $prefix, $var-lightness);
  @include set-var($name, 0%, $prefix, '#{$var-lightness}-l');
  // Alpha.
  @include set-var($name, get-var($color, $suffix: $var-alpha), $prefix, $var-alpha);
}
