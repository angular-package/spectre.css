// Sass.
@use 'sass:list';
@use 'sass:meta';

// Functions.
@use '../has/list-has-number.function' as *;
@use '../is/is-list-length.function' as *;
@use '../is/is-list.function' as *;

// Status: DONE
// The `list-index-type()` function.
@function list-index-type($list, $indexes...) {
  $result: ();
  @if is-list($list, 0) {
    @if is-list($indexes, 0) {
      $i: 1;
      @each $index in $indexes {
        $indexes: list.set-nth($indexes, $i, meta.type-of(list.nth($list, $index)));
        $i: $i + 1;
      }

      $result: $indexes;
    } @else {
      $i: 1;
      @each $element in $list {
        $list: list.set-nth($list, $i, meta.type-of($element));
        $i: $i + 1;
      }

      $result: $list;
    }
  }

  @return if(is-list-length($result), if(is-list-length($result, 1), $result, list.nth($result, 1)), null);
}

// Examples.
// @debug list-index-type(('a', b, c, 1, 2, null, false)); // string, string, string, number, number, null, bool
// @debug list-index-type(('a', b, c, 1, 2, null, false), 5); // number
// @debug list-index-type(('a', b, c, 1, 2, null, false), 6); // null
// @debug list-index-type(('a', b, c, 1, 2, null, false), 5, 6, 7); // number, null, bool
